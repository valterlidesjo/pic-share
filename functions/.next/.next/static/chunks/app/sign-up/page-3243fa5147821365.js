(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[884],{3586:(e,r,t)=>{"use strict";t.d(r,{I:()=>c,db:()=>o,j:()=>u});var a=t(16203),s=t(23915),n=t(35317),l=t(90858);let i=(0,s.Wp)({apiKey:"AIzaSyDLn-Qoqt0XSx9Fr7jdTqXt54rtzboGcUw",authDomain:"pic-share-be97b.firebaseapp.com",projectId:"pic-share-be97b",storageBucket:"pic-share-be97b.firebasestorage.app",messagingSenderId:"717613380259",appId:"1:717613380259:web:bc5443d92ec0ee76b20516",measurementId:"G-L1DP17QLDW"}),c=(0,l.c7)(i),o=(0,n.aU)(i),u=(0,a.xI)(i)},24832:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(95155),s=t(12115),n=t(90044),l=t(68534),i=t(35695),c=t(16203),o=t(79251),u=t(35317),d=t(3586);let m=async(e,r)=>{try{return await (0,u.BN)((0,u.H9)(d.db,"users",r),{email:e,userId:r,createdAt:new Date,emailVerified:!1}),!0}catch(e){return console.error("Error saving user to firestore:",e),!1}},h=()=>{let{user:e}=(0,o.q)(),[r,t]=(0,s.useState)(null);return{signUpUser:async(r,a)=>{if(!e){console.error("No ghost user to link account with"),t("No ghost user to link account with");return}if(!e.isAnonymous)return void t("You are already signed in with a permanent account.");try{let s=c.IX.credential(r,a);await (0,c.OS)(e,s),d.j.currentUser?(await (0,c.gA)(d.j.currentUser),t("Account linked successfully! Please verify your email to continue. Remember to check your spam inbox.")):t("Account linked successfully! Could not send verification email."),await m(r,e.uid)||t("Account linked successfully! Could not save user data.")}catch(e){console.error("Error linking account:",e),t("Failed to link account. Please try again.")}},message:r}},g=()=>{let[e,r]=(0,s.useState)(""),[t,c]=(0,s.useState)(""),{signUpUser:o,message:u}=h(),d=(0,i.useRouter)(),m=async a=>{a.preventDefault(),await o(e,t),r(""),c("")};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex items-start justify-center h-screen pt-12 bg-gray-100",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white p-8 rounded-lg shadow-md w-96",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-[#1976D2]",children:"Sign Up"}),u&&(0,a.jsx)("p",{className:"text-blue-500 mb-4 text-center",children:u}),(0,a.jsxs)("form",{onSubmit:m,className:"flex flex-col justify-center items-center",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(n.A,{id:"email",label:"Enter your email",value:e,onChange:e=>r(e.target.value),variant:"outlined",className:"w-full"})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(n.A,{id:"password",label:"Create a password",value:t,onChange:e=>c(e.target.value),variant:"outlined",className:"w-full",type:"password"})}),(0,a.jsx)(l.A,{variant:"outlined",type:"submit",sx:{color:"#E38724"},children:"Sign Up"})]}),(0,a.jsxs)("p",{className:"mt-4",children:["Already have an account?"," ",(0,a.jsx)("a",{onClick:()=>d.push("/sign-in"),className:"font-bold cursor-pointer",children:"Click here"})]})]})})})}},79251:(e,r,t)=>{"use strict";t.d(r,{q:()=>l});var a=t(3586),s=t(16203),n=t(12115);let l=()=>{let[e,r]=(0,n.useState)({user:null,loading:!0,error:null});return(0,n.useEffect)(()=>{let e=(0,s.hg)(a.j,e=>{e?r({user:e,loading:!1,error:null}):(0,s.zK)(a.j).then(e=>{r({user:e.user,loading:!1,error:null})}).catch(e=>{console.error("Fel vid anonym inloggning:",e),r({user:null,loading:!1,error:"Kunde inte logga in anonymt."})})});return()=>e()},[]),e}},97835:(e,r,t)=>{Promise.resolve().then(t.bind(t,24832))}},e=>{var r=r=>e(e.s=r);e.O(0,[992,163,577,831,208,424,44,441,684,358],()=>r(97835)),_N_E=e.O()}]);